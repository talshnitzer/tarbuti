(this["webpackJsonptarbuti-frontend"]=this["webpackJsonptarbuti-frontend"]||[]).push([[0],{320:function(e,t,n){"use strict";n.r(t);var a=n(12),r=n.n(a),c=n(22),i=n(14),o=n(2),s=n(0),l=n.n(s),u=n(13),d=n.n(u),j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,410)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},b=n(29),m=n(16),h=n(10),p=n(54),O=n(371),x=n(403),g=n(401),v=n(372),f=n(364),y=[{value:"\u05de\u05d5\u05d6\u05d9\u05e7\u05d4",label:"\u05de\u05d5\u05d6\u05d9\u05e7\u05d4"},{value:"\u05e1\u05e4\u05d5\u05e8\u05d8",label:"\u05e1\u05e4\u05d5\u05e8\u05d8"},{value:"\u05d4\u05e8\u05e6\u05d0\u05d4",label:"\u05d4\u05e8\u05e6\u05d0\u05d4"},{value:"\u05ea\u05d0\u05d8\u05e8\u05d5\u05df",label:"\u05ea\u05d0\u05d8\u05e8\u05d5\u05df"},{value:"\u05de\u05d7\u05d5\u05dc",label:"\u05de\u05d7\u05d5\u05dc"},{value:"\u05d8\u05d9\u05d5\u05dc",label:"\u05d8\u05d9\u05d5\u05dc"},{value:"\u05e7\u05d5\u05dc\u05e0\u05d5\u05e2",label:"\u05e7\u05d5\u05dc\u05e0\u05d5\u05e2"},{value:"\u05d1\u05d9\u05d3\u05d5\u05e8",label:"\u05d1\u05d9\u05d3\u05d5\u05e8"}],C=[{value:"\u05e2\u05e6\u05de\u05d0\u05d5\u05ea",label:"\u05e2\u05e6\u05de\u05d0\u05d5\u05ea"},{value:"\u05d7\u05e0\u05d5\u05db\u05d4",label:"\u05d7\u05e0\u05d5\u05db\u05d4"},{value:"\u05e8\u05d0\u05e9 \u05d4\u05e9\u05e0\u05d4",label:"\u05e8\u05d0\u05e9 \u05d4\u05e9\u05e0\u05d4"},{value:"\u05e4\u05e1\u05d7",label:"\u05e4\u05e1\u05d7"},{value:"\u05e1\u05d5\u05db\u05d5\u05ea",label:"\u05e1\u05d5\u05db\u05d5\u05ea"},{value:"\u05e1\u05d9\u05dc\u05d1\u05e1\u05d8\u05e8",label:"\u05e1\u05d9\u05dc\u05d1\u05e1\u05d8\u05e8"},{value:"\u05e9\u05d1\u05d5\u05e2\u05d5\u05ea",label:"\u05e9\u05d1\u05d5\u05e2\u05d5\u05ea"},{value:"\u05d7\u05d2 \u05de\u05e2\u05dc\u05d5\u05ea",label:"\u05d7\u05d2 \u05de\u05e2\u05dc\u05d5\u05ea"}],N=[{value:"\u05e4\u05e2\u05d5\u05d8\u05d5\u05ea",label:"\u05e4\u05e2\u05d5\u05d8\u05d5\u05ea"},{value:"\u05d9\u05dc\u05d3\u05d9\u05dd",label:"\u05d9\u05dc\u05d3\u05d9\u05dd"},{value:"\u05e0\u05d5\u05e2\u05e8",label:"\u05e0\u05d5\u05e2\u05e8"},{value:"\u05de\u05d1\u05d5\u05d2\u05e8\u05d9\u05dd",label:"\u05de\u05d1\u05d5\u05d2\u05e8\u05d9\u05dd"},{value:"\u05d5\u05ea\u05d9\u05e7\u05d9\u05dd",label:"\u05d5\u05ea\u05d9\u05e7\u05d9\u05dd"},{value:"\u05d2\u05d0\u05d5\u05d5\u05d4",label:"\u05d2\u05d0\u05d5\u05d5\u05d4"},{value:"\u05e0\u05e9\u05d9\u05dd",label:"\u05e0\u05e9\u05d9\u05dd"},{value:"\u05d2\u05d1\u05e8\u05d9\u05dd",label:"\u05d2\u05d1\u05e8\u05d9\u05dd"}],E=[{value:"\u05d1\u05e4\u05e0\u05d9\u05dd",label:"\u05d1\u05e4\u05e0\u05d9\u05dd"},{value:"\u05d1\u05d7\u05d5\u05e5",label:"\u05d1\u05d7\u05d5\u05e5"}],S=function(e){var t=e.recommendation,n=e.myOnSubmit;return Object(o.jsx)(p.c,{initialValues:t?Object(h.a)({},t):k,validate:function(e){return A(e)},onSubmit:function(e){return n(e)},children:function(e){return Object(o.jsx)(p.b,{children:Object(o.jsxs)(f.a,{container:!0,spacing:2,children:[Object(o.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(o.jsx)(T,{title:"\u05d4\u05de\u05dc\u05e6\u05d4 \u05e2\u05dc",name:"serviceName",helperText:"\u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4*",raws:1,multiline:!1})}),Object(o.jsx)(f.a,{item:!0,xs:12,sm:12,children:Object(o.jsx)(T,{title:"\u05ea\u05d0\u05d5\u05e8 - \u05d0\u05d9\u05da \u05d4\u05e9\u05e8\u05d5\u05ea/\u05d4\u05de\u05d5\u05e6\u05e8 \u05ea\u05e8\u05de\u05d5 \u05dc\u05d0\u05e8\u05d5\u05e2 ",name:"description",helperText:"",rows:3,multiline:!0})}),Object(o.jsx)(f.a,{item:!0,xs:12,sm:4,children:Object(o.jsx)(T,{title:"\u05e9\u05dd \u05d4\u05e1\u05e4\u05e7",name:"providerName",helperText:"\u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4*",rows:1,multiline:!1})}),Object(o.jsx)(f.a,{item:!0,xs:12,sm:4,children:Object(o.jsx)(T,{title:"\u05d8\u05dc\u05e4\u05d5\u05df \u05d4\u05e1\u05e4\u05e7",name:"providerPhone",helperText:"",rows:1,multiline:!1})}),Object(o.jsx)(f.a,{item:!0,xs:12,sm:4,children:Object(o.jsx)(T,{title:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05d4\u05e1\u05e4\u05e7",name:"providerEmail",helperText:"",rows:1,multiline:!1})}),Object(o.jsxs)(f.a,{item:!0,xs:12,sm:4,children:[Object(o.jsx)("label",{htmlFor:"eventDate",children:"\u05d4\u05d0\u05e8\u05d5\u05e2 \u05d4\u05ea\u05e7\u05d9\u05d9\u05dd \u05d1"}),Object(o.jsx)(x.a,{id:"eventDate",name:"eventDate",type:"month",onChange:e.handleChange,value:e.values.eventDate,error:e.touched.eventDate&&Boolean(e.errors.eventDate),variant:"outlined",fullWidth:!0,helperText:"\u05e9\u05e0\u05d4 \u05d5\u05d7\u05d5\u05d3\u05e9",InputLabelProps:{shrink:!0}})]}),Object(o.jsx)(f.a,{item:!0,xs:12,sm:8}),Object(o.jsx)(f.a,{item:!0,xs:12,sm:3,children:Object(o.jsx)(T,{title:"\u05de\u05d7\u05d9\u05e8",name:"servicePrice",helperText:"\u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4*",rows:1,multiline:!1})}),Object(o.jsx)(f.a,{item:!0,xs:12,sm:9,children:Object(o.jsx)(T,{title:"\u05d4\u05e2\u05e8\u05d4 \u05dc\u05de\u05d7\u05d9\u05e8",name:"priceRemarks",helperText:"",rows:1,multiline:!1})}),P.map((function(t){return Object(o.jsx)(w,{title:t.title,formik:e,name:t.name,options:t.options},t.name)})),Object(o.jsx)(f.a,{item:!0,xs:6,sm:3,children:Object(o.jsx)(O.a,{color:"primary",variant:"contained",type:"submit",children:"\u05e9\u05de\u05d9\u05e8\u05d4"})}),Object(o.jsx)(f.a,{item:!0,sm:6}),Object(o.jsx)(f.a,{item:!0,xs:6,sm:3,children:Object(o.jsx)(O.a,{onClick:e.handleReset,color:"secondary",variant:"contained",type:"reset",children:"\u05d1\u05d9\u05d8\u05d5\u05dc"})})]})})}})},T=function(e){var t=e.title,n=e.name,a=e.helperText,r=e.rows,c=e.multiline;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("label",{htmlFor:"serviceName",children:t}),Object(o.jsx)(p.a,{name:n,validateOnChange:"false",validateOnBlur:"false",children:function(e){var t=e.form;return Object(o.jsx)(x.a,{fullWidth:!0,required:!0,id:n,name:n,type:"text",onChange:t.handleChange,value:t.values["".concat(n)],error:t.touched["".concat(n)]&&Boolean(t.errors["".concat(n)]),helperText:a,variant:"outlined",multiline:c,rows:r})}})]})},w=function(e){var t=e.title,n=e.name,a=e.formik,r=e.options;return Object(o.jsxs)(f.a,{item:!0,xs:12,sm:3,children:[Object(o.jsx)("label",{htmlFor:n,children:t}),Object(o.jsx)(g.a,{multiple:!0,fullWidth:!0,id:n,name:n,value:a.values["".concat(n)],onChange:a.handleChange,variant:"outlined",children:r.map((function(e){return Object(o.jsx)(v.a,{value:e.value,children:e.label},e.value)}))})]})},k={serviceName:"",description:"",providerName:"",providerPhone:"",providerEmail:"",eventDate:"",servicePrice:"",priceRemarks:"",tags1:[],tags2:[],tags3:[],tags4:[]},A=function(e){var t={};return e.serviceName||(t.serviceName="\u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4"),e.providerName||(t.providerName="\u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4"),e.providerEmail&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.providerEmail)&&(t.providerEmail="\u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4"),e.servicePrice||(t.servicePrice="\u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4"),t},P=[{name:"tags1",title:"\u05dc\u05d0\u05d9\u05d6\u05d4 \u05ea\u05d7\u05d5\u05dd \u05ea\u05e8\u05d1\u05d5\u05ea\u05d9 \u05e9\u05d9\u05d9\u05db\u05ea \u05d4\u05d4\u05de\u05dc\u05e6\u05d4?",options:y},{name:"tags2",title:"\u05de\u05d9 \u05e7\u05d4\u05dc \u05d4\u05d9\u05e2\u05d3?",options:N},{name:"tags3",title:"\u05dc\u05d0\u05d9\u05d6\u05d4 \u05d7\u05d2?",options:C},{name:"tags4",title:"\u05dc\u05d0\u05d9\u05e8\u05d5\u05e2\u05d9\u05dd \u05d1\u05e4\u05e0\u05d9\u05dd \u05d0\u05d5 \u05d1\u05d7\u05d5\u05e5?",options:E}],R=l.a.createContext(),_=l.a.createContext(),D=l.a.createContext(),I=n(210),B=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,e.prev=1,e.next=4,I.post("".concat("").concat(n)).send(Object(h.a)({},t)).set("Content-Type","application/json");case 4:a=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a=e.t0.response;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(c.a)(r.a.mark((function e(t,n,a){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null,e.prev=1,e.next=4,I.post("".concat("").concat(a)).send(Object(h.a)({},n)).set("Content-Type","application/json").set("x-auth",t);case 4:c=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c=e.t0.response;case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("service - sendAuthGetReq path:",n),a=null,e.prev=2,e.next=5,I.get("".concat("").concat(n)).set("Content-Type","application/json").set("x-auth",t);case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a=e.t0.response;case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("service - sendGetReq path:",t),n=null,e.prev=2,e.next=5,I.get("".concat("").concat(t)).set("Content-Type","application/json");case 5:n=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),n=e.t0.response;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),F=n(373),W=n(374),q=n(55),G=function(){var e=Object(m.g)(),t=Object(s.useContext)(R).dispatch,n=Object(s.useContext)(_).user.token,a=Object(s.useContext)(D).handleOpenError,i=function(){var i=Object(c.a)(r.a.mark((function c(i){var o,s;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,M(n,i,"/recommendation/create");case 2:(o=r.sent).body.error?a(o.body.error):(delete(s=Object(h.a)({},o.body)).__v,t({type:"ADD_RECOMMENDATIONS",recommendation:s}),e.push("/"));case 4:case"end":return r.stop()}}),c)})));return function(e){return i.apply(this,arguments)}}();return Object(o.jsxs)(R.Provider,{value:{dispatch:t},children:[Object(o.jsx)(F.a,{}),Object(o.jsxs)(W.a,{maxWidth:"md",component:"main",children:[Object(o.jsx)(q.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"\u05d4\u05d4\u05de\u05dc\u05e6\u05d4 \u05e9\u05dc\u05d9"}),Object(o.jsx)(q.a,{variant:"h5",align:"center",color:"textSecondary",component:"p",children:"\u05d0\u05e8\u05d2\u05e0\u05ea\u05dd \u05d0\u05e8\u05d5\u05e2 \u05de\u05d5\u05e6\u05dc\u05d7? \u05e9\u05ea\u05e4\u05d5 \u05d4\u05de\u05dc\u05e6\u05d4 \u05e2\u05dc \u05d4\u05de\u05d5\u05e6\u05e8/\u05d4\u05e9\u05e8\u05d5\u05ea \u05e9\u05e2\u05d6\u05e8 \u05dc\u05d0\u05e8\u05d5\u05e2 \u05e9\u05dc\u05db\u05dd \u05dc\u05d4\u05e6\u05dc\u05d9\u05d7. \u05db\u05da \u05ea\u05e2\u05d6\u05e8\u05d5 \u05dc\u05d0\u05d7\u05e8\u05d9\u05dd \u05dc\u05d0\u05e8\u05d2\u05df \u05d0\u05e8\u05d5\u05e2 \u05de\u05d5\u05e6\u05dc\u05d7 \u05d5\u05e2\u05dc \u05d4\u05d3\u05e8\u05da \u05ea\u05e2\u05d6\u05e8\u05d5 \u05d2\u05dd \u05dc\u05e0\u05d5\u05ea\u05df \u05d4\u05e9\u05e8\u05d5\u05ea/\u05de\u05d5\u05e6\u05e8"}),Object(o.jsx)(S,{myOnSubmit:i})]})]})},V=n(52),Y=n(404),J=n(402),Z=n(377),z=n(375),H=n(169),$=n.n(H),K=n(24),Q=n(378),X=n(400),ee=n(370),te=n(369),ne=n(323),ae=n(167),re=n.n(ae),ce=n(103),ie=n.n(ce),oe=n(376),se=l.a.createContext(),le=Object(z.a)((function(e){return{formControl:{}}})),ue=function(){var e=Object(s.useContext)(se),t=e.filters,n=e.filtersDispatch;console.log("RecommendationsFilters--- filters",t);var a=function(e,t,a){var r=a.indexOf(e),c=Object(K.a)(a);-1===r?c.push(e):c.splice(r,1),console.log("@@@handleChange---value",e),n({type:t,filters:c})};return Object(o.jsx)("div",{children:Object(o.jsxs)(ee.a,{children:[Object(o.jsx)(de,{title:"\u05ea\u05d7\u05d5\u05dd",category:t.tags1,action:"SET_TAGS1",categoryValues:y,handleChange:a}),Object(o.jsx)(de,{title:"\u05e7\u05d4\u05dc \u05d9\u05e2\u05d3",category:t.tags2,action:"SET_TAGS2",categoryValues:N,handleChange:a}),Object(o.jsx)(de,{title:"\u05d7\u05d2",category:t.tags3,action:"SET_TAGS3",categoryValues:C,handleChange:a}),Object(o.jsx)(de,{title:"\u05d1\u05e4\u05e0\u05d9\u05dd \u05d0\u05d5 \u05d1\u05d7\u05d5\u05e5",category:t.tags4,action:"SET_TAGS4",categoryValues:E,handleChange:a})]})})},de=function(e){var t=e.title,n=e.category,a=e.action,r=e.categoryValues,c=e.handleChange;le();console.log("CategorySelect---category---categoryValues---handleChange",n,r,c);var s=l.a.useState(!1),u=Object(i.a)(s,2),d=u[0],j=u[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(ne.a,{button:!0,onClick:function(){j(!d)},children:[Object(o.jsx)(te.a,{component:"legend",children:t}),d?Object(o.jsx)(re.a,{}):Object(o.jsx)(ie.a,{})]}),Object(o.jsx)(oe.a,{in:d,timeout:"auto",unmountOnExit:!0,children:Object(o.jsx)(ee.a,{component:"div",disablePadding:!0,children:r.map((function(e){return Object(o.jsxs)(v.a,{onClick:function(){c(e.value,a,n)},children:[Object(o.jsx)(X.a,{checked:n.indexOf(e.value)>-1}),Object(o.jsx)(Q.a,{primary:e.label})]},e.value)}))})})]})},je=function(e,t){switch(t.type){case"SET_TAGS1":return Object(h.a)(Object(h.a)({},e),{},{tags1:t.filters});case"SET_TAGS2":return Object(h.a)(Object(h.a)({},e),{},{tags2:t.filters});case"SET_TAGS3":return Object(h.a)(Object(h.a)({},e),{},{tags3:t.filters});case"SET_TAGS4":return Object(h.a)(Object(h.a)({},e),{},{tags4:t.filters});case"SORT_BY_DATE":case"SORT_BY_PRICE":default:return e}},be=n(4),me=n(168),he=n.n(me),pe=n(181),Oe=n(380),xe=n(379),ge=n(104),ve=n.n(ge),fe=Object(z.a)((function(e){return{root:{flexGrow:1},paper:{paddingTop:e.spacing(2),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),margin:"auto"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},cardActions:{paddingTop:e.spacing(2),paddingLeft:e.spacing(0),paddingRight:e.spacing(0),paddingBottom:e.spacing(0)}}})),ye=function(e){var t=e.recommendation,n=fe(),a=Object(m.g)();console.log("RecommendationListItem recommendation:---",t);var r=Object(s.useContext)(_).user,c=!(!r||!t._creatorId)&&t._creatorId._id===r._id;console.log("RecommendationListItem---user",r),console.log("RecommendationListItem---isUserRecommendation",c);var u=l.a.useState(!1),d=Object(i.a)(u,2),j=d[0],b=d[1];return Object(o.jsx)("div",{className:n.root,children:Object(o.jsxs)(pe.a,{className:n.paper,children:[Object(o.jsxs)(f.a,{container:!0,spacing:2,children:[Object(o.jsxs)(f.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:[Object(o.jsx)(q.a,{gutterBottom:!0,variant:"subtitle1",style:{fontWeight:"bold"},children:t.serviceName}),Object(o.jsxs)(q.a,{variant:"subtitle1",children:["\u05d4\u05e1\u05e4\u05e7: ",t.providerName]}),Object(o.jsx)(q.a,{variant:"subtitle1",gutterBottom:!0,children:t.description})]}),Object(o.jsxs)(f.a,{item:!0,children:[Object(o.jsxs)(q.a,{variant:"subtitle1",gutterBottom:!0,style:{backgroundColor:"rgba(0, 0, 0, 0.08)",paddingRight:6,paddingLeft:6},children:["\u05de\u05d7\u05d9\u05e8: ",t.servicePrice]}),Object(o.jsx)(q.a,{variant:"body1",children:t.priceRemarks})]})]}),Object(o.jsxs)(xe.a,{className:n.cardActions,disableSpacing:!0,children:[Object(o.jsx)(Z.a,{className:Object(be.a)(n.expand,Object(V.a)({},n.expandOpen,j)),onClick:function(){b(!j)},"aria-expanded":j,"aria-label":"show more",children:Object(o.jsx)(ie.a,{})}),c?Object(o.jsx)(O.a,{onClick:function(){console.log("RecommendationListItem handleEdit"),a.push("/edit/".concat(t._id))},"aria-label":"edit",children:Object(o.jsx)(ve.a,{fontSize:"small"})}):""]}),Object(o.jsx)(oe.a,{in:j,timeout:"auto",unmountOnExit:!0,children:Object(o.jsxs)(Oe.a,{children:[Object(o.jsxs)(q.a,{gutterBottom:!0,variant:"subtitle1",children:["\u05ea\u05d0\u05e8\u05d9\u05da \u05e8\u05d9\u05e9\u05d5\u05dd \u05d4\u05d4\u05de\u05dc\u05e6\u05d4: ",he()(t.createdAt).format("DD/MM/YYYY")]}),Object(o.jsxs)(q.a,{gutterBottom:!0,variant:"subtitle1",children:["\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05d0\u05e8\u05d5\u05e2: ",t.eventDate]}),Object(o.jsxs)(q.a,{variant:"subtitle1",gutterBottom:!0,children:["\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05d4\u05e1\u05e4\u05e7: ",t.providerEmail]}),Object(o.jsxs)(q.a,{gutterBottom:!0,variant:"subtitle1",children:["\u05d4\u05d5\u05de\u05dc\u05e5 \u05e2\u05f4\u05d9: ",t._creatorId?t._creatorId.firstName:"unknown"," ",t._creatorId?t._creatorId.lastName:"unknown"]}),Object(o.jsxs)(q.a,{variant:"subtitle1",gutterBottom:!0,children:["\u05de\u05d4\u05d9\u05d9\u05e9\u05d5\u05d1: ",t._creatorId?t._creatorId.community:"unknown"]})]})})]})})},Ce=function(){var e=Object(s.useContext)(R).recommendations,t=Object(s.useContext)(se).filters;return console.log("RecommendationList recommendations:----",e),console.log("RecommendationList filters:----",t),function(e,t){var n=t.tags1,a=t.tags2,r=t.tags3,c=t.tags4,i=t.sortBy;return console.log("filtersFunc tag1 tag2",n,a),console.log("filtersFunc recommendations",e),e.filter((function(e){var t=!(n.length>0)||n.some((function(t){return e.tags1.includes(t)})),i=!(a.length>0)||a.some((function(t){return e.tags2.includes(t)})),o=!(r.length>0)||r.some((function(t){return e.tags3.includes(t)})),s=!(c.length>0)||c.some((function(t){return e.tags4.includes(t)}));return console.log("----filtersFunc: tags1Match, tags2Match, tags3Match, tags4Match: ",t,i,o,s),t&&i&&o&&s})).sort((function(e,t){return"date"===i?e.createdAt<t.createdAt?1:-1:"price"===i?e.amount<t.amount?1:-1:void 0}))}(e,t).map((function(e){return Object(o.jsx)(f.a,{item:!0,xs:12,children:Object(o.jsx)(ye,{recommendation:e},e._id)},e._id)}))},Ne=n.p+"static/media/homeTitleBg.a4cf92b1.png",Ee=Object(z.a)((function(e){return{root:{display:"flex"},title:Object(V.a)({display:"flex",alignItems:"center",justifyContent:"center",background:"#69EAEF",height:"2.3em",color:e.palette.info.dark,paddingRight:"24px"},e.breakpoints.up("sm"),{background:"url(".concat(Ne,") right no-repeat #69EAEF")}),drawer:Object(V.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0,paddingTop:"24px"}),menuButton:Object(V.a)({},e.breakpoints.up("sm"),{display:"none"}),drawerPaper:{width:240,position:"sticky"},content:{flexGrow:1,padding:e.spacing(3)}}}));var Se=function(e){var t=e.window,n=Ee(),a=l.a.useState(!1),r=Object(i.a)(a,2),c=r[0],u=r[1],d=Object(s.useReducer)(je,{tags1:[],tags2:[],tags3:[],tags4:[],sortBy:"date"}),j=Object(i.a)(d,2),b=j[0],m=j[1],h=function(){u(!c)},p=Object(o.jsx)("div",{children:Object(o.jsx)(ue,{})}),O=void 0!==t?function(){return t().document.body}:void 0;return Object(o.jsxs)(se.Provider,{value:{filters:b,filtersDispatch:m},children:[Object(o.jsx)(F.a,{}),Object(o.jsx)("div",{children:Object(o.jsxs)(q.a,{variant:"h3",align:"center",gutterBottom:!0,className:n.title,children:[Object(o.jsx)(Z.a,{color:"primary","aria-label":"open drawer",edge:"end",onClick:h,className:n.menuButton,children:Object(o.jsx)($.a,{})}),"\u05d4\u05de\u05dc\u05e6\u05d5\u05ea \u05de\u05d0\u05e8\u05d2\u05e0\u05d9 \u05d0\u05d9\u05e8\u05d5\u05e2\u05d9 \u05ea\u05e8\u05d1\u05d5\u05ea \u05d1\u05de\u05e9\u05d2\u05d1"]})}),Object(o.jsxs)("div",{className:n.root,children:[Object(o.jsxs)("div",{className:n.drawer,"aria-label":"mailbox folders",children:[Object(o.jsx)(J.a,{smUp:!0,implementation:"css",children:Object(o.jsx)(Y.a,{container:O,variant:"temporary",anchor:"left",open:c,onClose:h,classes:{paper:n.drawerPaper},ModalProps:{keepMounted:!0},children:p})}),Object(o.jsx)(J.a,{xsDown:!0,implementation:"css",children:Object(o.jsx)(Y.a,{classes:{paper:n.drawerPaper},variant:"permanent",open:!0,children:p})})]}),Object(o.jsx)("main",{className:n.content,children:Object(o.jsx)(f.a,{container:!0,spacing:2,children:Object(o.jsx)(Ce,{})})})]})]})},Te=function(){var e=Object(s.useContext)(_).user,t=Object(s.useContext)(R),n=t.recommendations,a=t.dispatch,i=e.token,l=Object(m.g)(),u=Object(m.h)().id,d=Object(s.useContext)(D).handleOpenError,j=void 0!==n?n.find((function(e){return e._id===u})):{},b=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(i,t,"/recommendation/update/".concat(u));case 2:(n=e.sent).body.error?d(n.body.error):(delete(c=Object(h.a)({},n.body)).__v,a({type:"UPDATE_RECOMMENDATIONS",recommendation:c}),l.push("/"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)(R.Provider,{value:{recommendation:j,dispatch:a},children:[Object(o.jsx)(F.a,{}),Object(o.jsxs)(W.a,{maxWidth:"md",component:"main",children:[Object(o.jsx)(q.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"\u05e2\u05e8\u05d9\u05db\u05ea \u05d4\u05d4\u05de\u05dc\u05e6\u05d4 \u05e9\u05dc\u05d9"}),void 0!==j?Object(o.jsx)(S,{recommendation:Object(h.a)({},j),myOnSubmit:function(e){b(e)}}):Object(o.jsx)("p",{})]})]})},we=function(){return Object(o.jsx)("div",{children:Object(o.jsx)("p",{children:"Not Found Page"})})},ke=n(68),Ae=n(405),Pe=n(382),Re=n(381),_e=n(397),De=n(106),Ie=n.n(De),Be=n(383),Me=n(387),Ue=n(385),Le=n(386),Fe=n(384);function We(){return Object(o.jsxs)(q.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(o.jsx)(Re.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var qe=Object(z.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Ge=ke.a({email:ke.b("Enter your email").email("Enter a valid email").required("Email is required"),password:ke.b("Enter your password").required("Password is required")}),Ve=function(){var e=qe(),t=Object(s.useContext)(_).dispatchUser,n=Object(m.g)(),a=Object(s.useState)(void 0),u=Object(i.a)(a,2),d=u[0],j=u[1],b=Object(p.d)({initialValues:{email:"",password:""},validationSchema:Ge,onSubmit:function(){var e=Object(c.a)(r.a.mark((function e(a){var c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(a,"/user/login");case 2:c=e.sent,console.log("LoginPage---onSubmit---response from server",c),c.body.error?(j("".concat(c.body.error)),C(!0)):(i=Object(h.a)(Object(h.a)({},c.body.userDetails),{},{token:c.header["x-auth"]}),console.log("LoginPage---onSubmit---user",i),t({type:"POPULATES_USER",user:i}),localStorage.setItem("user",JSON.stringify(i)),n.push("/"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),g=l.a.useState(!1),v=Object(i.a)(g,2),y=v[0],C=v[1],N=function(){C(!1),j(null)};return Object(o.jsxs)(W.a,{component:"main",maxWidth:"xs",children:[Object(o.jsx)(F.a,{}),Object(o.jsxs)("div",{className:e.paper,children:[Object(o.jsx)(Ae.a,{className:e.avatar,children:Object(o.jsx)(Ie.a,{})}),Object(o.jsx)(q.a,{component:"h1",variant:"h5",children:"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"}),Object(o.jsxs)("form",{className:e.form,onSubmit:b.handleSubmit,children:[Object(o.jsx)(x.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"\u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc",name:"email",value:b.values.email,onChange:b.handleChange,error:b.touched.email&&Boolean(b.errors.email),helperText:b.touched.email&&b.errors.email,autoComplete:"email",autoFocus:!0}),Object(o.jsx)(x.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"\u05e1\u05d9\u05e1\u05de\u05d0",type:"password",id:"password",autoComplete:"current-password",value:b.values.password,onChange:b.handleChange,error:b.touched.password&&Boolean(b.errors.password),helperText:b.touched.password&&b.errors.password}),Object(o.jsx)(Pe.a,{control:Object(o.jsx)(X.a,{value:"remember",color:"primary"}),label:"\u05d6\u05db\u05d5\u05e8 \u05d0\u05d5\u05ea\u05d9"}),Object(o.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"\u05dc\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea \u05e0\u05d0 \u05dc\u05dc\u05d7\u05d5\u05e5"}),d?Object(o.jsxs)(Be.a,{open:y,onClose:N,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(o.jsx)(Fe.a,{id:"alert-dialog-title",children:"\u05dc\u05d0 \u05d1\u05d5\u05e6\u05e2\u05d4 \u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea "}),Object(o.jsx)(Ue.a,{children:Object(o.jsx)(Le.a,{id:"alert-dialog-description",children:d})}),Object(o.jsx)(Me.a,{children:Object(o.jsx)(O.a,{onClick:N,color:"primary",children:"\u05dc\u05e1\u05d2\u05d5\u05e8 \u05d4\u05d5\u05d3\u05e2\u05d4"})})]}):null,Object(o.jsxs)(f.a,{container:!0,children:[Object(o.jsx)(f.a,{item:!0,xs:!0,children:Object(o.jsx)(Re.a,{href:"#",variant:"body2",children:"\u05e9\u05db\u05d7\u05ea \u05e1\u05d9\u05e1\u05de\u05d0?"})}),Object(o.jsx)(f.a,{item:!0,children:Object(o.jsx)(Re.a,{href:"/signUp",variant:"body2",children:"\u05d0\u05d9\u05df \u05dc\u05da \u05d7\u05e9\u05d1\u05d5\u05df? \u05e0\u05d0 \u05dc\u05d4\u05d9\u05e8\u05e9\u05dd \u05db\u05d0\u05df"})})]})]})]}),Object(o.jsx)(_e.a,{mt:8,children:Object(o.jsx)(We,{})})]})},Ye=function(e){var t=e.title,n=e.text,a=e.path,r=e.openPopUp,c=e.setOpenPopUp,i=Object(m.g)(),s=function(){c(!1),i.push("".concat(a))};return Object(o.jsxs)(Be.a,{open:r,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(o.jsx)(Fe.a,{id:"alert-dialog-title",children:t}),Object(o.jsx)(Ue.a,{children:Object(o.jsx)(Le.a,{id:"alert-dialog-description",children:n})}),Object(o.jsx)(Me.a,{children:Object(o.jsx)(O.a,{onClick:s,color:"primary",children:"\u05d4\u05d1\u05e0\u05ea\u05d9"})})]})},Je=n(399);function Ze(){return Object(o.jsxs)(q.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(o.jsx)(Re.a,{color:"inherit",href:"https://material-ui.com/",children:"tarbuti"})," ",(new Date).getFullYear(),"."]})}var ze=Object(z.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),He=ke.a({email:ke.b("Enter your email").email("Enter a valid email").required("Email is required")}),$e=function(){var e=ze(),t=Object(s.useState)(void 0),n=Object(i.a)(t,2),a=n[0],u=n[1],d=l.a.useState(!1),j=Object(i.a)(d,2),b=j[0],m=j[1],h="\u05d4\u05d4\u05e8\u05e9\u05de\u05d4 \u05de\u05d5\u05ea\u05e0\u05d9\u05ea \u05d1\u05d0\u05d9\u05e9\u05d5\u05e8 \u05de\u05e0\u05d4\u05dc\u05ea.",g="\u05e2\u05dd \u05d4\u05d0\u05d9\u05e9\u05d5\u05e8 \u05ea\u05e9\u05dc\u05d7 \u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05dc\u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05e9\u05ea\u05d9\u05e8\u05e9\u05dd \u05d1\u05d8\u05d5\u05e4\u05e1 \u05d4\u05d4\u05e8\u05e9\u05de\u05d4 \u05dc\u05de\u05d8\u05d4",v=Object(p.d)({initialValues:{email:"",firstName:"",lastName:"",community:"",phoneNum:""},validationSchema:He,onSubmit:function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t,"/user/create");case 2:n=e.sent,console.log("SignUp---onSubmit---response from server",n),n.body.error?u("".concat(n.body.error)):m(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return Object(o.jsxs)("div",{children:[Object(o.jsx)(Ye,{title:h,text:g,path:"/login",openPopUp:b,setOpenPopUp:m}),Object(o.jsxs)(W.a,{component:"main",maxWidth:"xs",children:[Object(o.jsx)(F.a,{}),Object(o.jsxs)("div",{className:e.paper,children:[Object(o.jsx)(Ae.a,{className:e.avatar,children:Object(o.jsx)(Ie.a,{})}),Object(o.jsx)(q.a,{component:"h1",variant:"h5",children:"\u05d4\u05e8\u05e9\u05de\u05d4"}),Object(o.jsx)(q.a,{className:e.form,children:h}),Object(o.jsx)(q.a,{className:e.form,children:g}),Object(o.jsxs)("form",{className:e.form,onSubmit:v.handleSubmit,children:[Object(o.jsxs)(f.a,{container:!0,spacing:2,children:[Object(o.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(o.jsx)(x.a,{autoComplete:"fname",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9",autoFocus:!0,name:"firstName",value:v.values.firstName,onChange:v.handleChange,error:v.touched.firstName&&Boolean(v.errors.firstName),helperText:v.touched.firstName&&v.errors.firstName})}),Object(o.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(o.jsx)(x.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4",name:"lastName",autoComplete:"lname",value:v.values.lastName,onChange:v.handleChange,error:v.touched.lastName&&Boolean(v.errors.lastName),helperText:v.touched.lastName&&v.errors.lastName})}),Object(o.jsx)(f.a,{item:!0,xs:12,children:Object(o.jsx)(x.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"\u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc",name:"email",autoComplete:"email",value:v.values.email,onChange:v.handleChange,error:v.touched.email&&Boolean(v.errors.email),helperText:v.touched.email&&v.errors.email})}),Object(o.jsx)(f.a,{item:!0,xs:12,children:Object(o.jsx)(x.a,{variant:"outlined",required:!0,fullWidth:!0,name:"community",label:"\u05d9\u05e9\u05d5\u05d1",type:"community",id:"community",autoComplete:"community",value:v.values.community,onChange:v.handleChange,error:v.touched.community&&Boolean(v.errors.community),helperText:v.touched.community&&v.errors.community})}),Object(o.jsx)(f.a,{item:!0,xs:12,children:Object(o.jsx)(x.a,{variant:"outlined",fullWidth:!0,name:"phoneNum",label:"\u05de\u05e1\u05f3 \u05d4\u05e0\u05d9\u05d9\u05d3",type:"phoneNum",id:"phoneNum",autoComplete:"phoneNum",value:v.values.phoneNum,onChange:v.handleChange,error:v.touched.phoneNum&&Boolean(v.errors.phoneNum),helperText:v.touched.phoneNum&&v.errors.phoneNum})})]}),a?Object(o.jsx)(f.a,{className:e.form,children:Object(o.jsx)(Je.a,{variant:"outlined",severity:"error",children:a})}):null,Object(o.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"\u05d4\u05e8\u05e9\u05de\u05d4"}),Object(o.jsx)(f.a,{container:!0,justify:"flex-end",children:Object(o.jsx)(f.a,{item:!0,children:Object(o.jsx)(Re.a,{href:"/",variant:"body2",children:"\u05db\u05d1\u05e8 \u05d9\u05e9 \u05d7\u05e9\u05d1\u05d5\u05df? \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea \u05e0\u05d0 \u05dc\u05dc\u05d7\u05d5\u05e5 \u05db\u05d0\u05df"})})})]})]}),Object(o.jsx)(_e.a,{mt:5,children:Object(o.jsx)(Ze,{})})]})]})},Ke=n(108),Qe=n(388),Xe=n(389),et=n(173),tt=n.n(et),nt=n(178),at=Object(z.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2),marginLeft:e.spacing(2)},title:{flexGrow:1}}})),rt=function(){var e=at(),t=Object(m.g)(),n="admin"===Object(s.useContext)(_).user.userType,a=l.a.useState(null),r=Object(i.a)(a,2),c=r[0],u=r[1],d=function(){u(null)};return Object(o.jsxs)("div",{className:e.root,children:[Object(o.jsx)(Qe.a,{position:"static",children:Object(o.jsxs)(Xe.a,{children:[Object(o.jsx)(Z.a,{edge:"start",className:e.menuButton,onClick:function(e){u(e.currentTarget)},color:"inherit","aria-label":"menu",children:Object(o.jsx)(tt.a,{})}),Object(o.jsx)(q.a,{variant:"h5",className:e.title,children:"\u05ea\u05e8\u05d1\u05d5\u05ea\u05d9"}),Object(o.jsx)(O.a,{onClick:function(){t.push("/login")},color:"inherit",children:"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"}),Object(o.jsx)(O.a,{onClick:function(){t.push("/signUp")},color:"inherit",children:"\u05d4\u05e8\u05e9\u05de\u05d4"})]})}),Object(o.jsx)("div",{children:Object(o.jsxs)(nt.a,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:d,children:[Object(o.jsx)(v.a,{onClick:d,children:Object(o.jsx)(b.b,{to:"/create",children:"\u05d4\u05d5\u05e1\u05e3 \u05d4\u05de\u05dc\u05e6\u05d4"})}),Object(o.jsx)(v.a,{onClick:d,children:Object(o.jsx)(b.b,{to:"/",children:"\u05d3\u05e3 \u05d4\u05d1\u05d9\u05ea"})}),n?Object(o.jsx)(v.a,{onClick:d,children:Object(o.jsx)(b.b,{to:"/admin",children:"\u05e0\u05d9\u05d4\u05d5\u05dc \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"})}):""]})})]})},ct=function(e){var t=e.component,n=Object(Ke.a)(e,["component"]),a=Object(s.useContext)(_).user,r=!!a.token;console.log("PrivateRoute---isAuthenticated",r),console.log("PrivateRoute---user",a);var c=Object(h.a)({},n).path,i="admin"===a.userType,l="/admin"===c,u=l&&i||!l;return Object(o.jsx)(m.b,Object(h.a)(Object(h.a)({},n),{},{component:function(e){return r&&u?Object(o.jsxs)("div",{children:[Object(o.jsx)(rt,{}),Object(o.jsx)(t,Object(h.a)({},e))]}):Object(o.jsx)(m.a,{to:"/"})}}))},it=function(e){var t=e.component,n=Object(Ke.a)(e,["component"]),a=Object(h.a)({},n).path;return Object(o.jsxs)("div",{children:["/"===a?Object(o.jsx)(rt,{}):"",Object(o.jsx)(m.b,Object(h.a)(Object(h.a)({},n),{},{component:function(e){return Object(o.jsx)(t,Object(h.a)({},e))}}))]})},ot=function(e){var t=e.open,n=e.handleCloseError,a=e.error;return Object(o.jsxs)(Be.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(o.jsx)(Fe.a,{id:"alert-dialog-title",children:"\u05d4\u05e4\u05e2\u05d5\u05dc\u05ea \u05dc\u05d0 \u05d1\u05d5\u05e6\u05e2\u05d4"}),Object(o.jsx)(Ue.a,{children:Object(o.jsx)(Le.a,{id:"alert-dialog-description",children:a})}),Object(o.jsx)(Me.a,{children:Object(o.jsx)(O.a,{onClick:n,color:"primary",children:"\u05dc\u05e1\u05d2\u05d5\u05e8 \u05d4\u05d5\u05d3\u05e2\u05d4"})})]})},st=n(391),lt=n(395),ut=n(394),dt=n(390),jt=n(392),bt=n(393),mt=n(174),ht=n.n(mt),pt=Object(z.a)({table:{minWidth:650}}),Ot=function(){var e=pt(),t=l.a.useState([]),n=Object(i.a)(t,2),a=n[0],u=n[1],d=Object(s.useContext)(_).user;console.log("AdminPage---me",d);var j=Object(s.useContext)(D),b=j.error,m=j.open,h=j.handleOpenError,p=j.handleCloseError,x=d.token;Object(s.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(x,"/user/all");case 2:t=e.sent,console.log("AdminPage--- response from sendAuthGetReq",t),t.body.error||u(t.body);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),console.log("AdminPage--- users state",a)}),[]);var g=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(x,"","/user/approve/".concat(t._id));case 2:n=e.sent,console.log("AdminPage---handleApprove---response",n),n.body.error&&h(n.body.error),console.log("handleApprove---The user._id that you wish to edit and error",t._id,b);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsx)(dt.a,{component:pe.a,children:Object(o.jsxs)(st.a,{className:e.table,"aria-label":"admin table",children:[Object(o.jsx)(jt.a,{children:Object(o.jsxs)(bt.a,{children:[Object(o.jsx)(ut.a,{align:"right",children:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"}),Object(o.jsx)(ut.a,{align:"right",children:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"}),Object(o.jsx)(ut.a,{align:"right",children:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc"}),Object(o.jsx)(ut.a,{align:"right",children:"\u05d8\u05dc\u05e4\u05d5\u05df"}),Object(o.jsx)(ut.a,{align:"right",children:"\u05d9\u05d9\u05e9\u05d5\u05d1"}),Object(o.jsx)(ut.a,{align:"right",children:"\u05e1\u05d8\u05d8\u05d5\u05e1"}),Object(o.jsx)(ut.a,{align:"right",children:"\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea \u05dc\u05e0\u05d9\u05d4\u05d5\u05dc \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"})]})}),Object(o.jsx)(lt.a,{children:a.map((function(e){return Object(o.jsxs)(bt.a,{children:[Object(o.jsx)(ut.a,{component:"th",scope:"row",align:"right",children:e.firstName}),Object(o.jsx)(ut.a,{align:"right",children:e.lastName}),Object(o.jsx)(ut.a,{align:"right",children:e.email}),Object(o.jsx)(ut.a,{align:"right",children:e.phoneNum}),Object(o.jsx)(ut.a,{align:"right",children:e.community}),Object(o.jsx)(ut.a,{align:"right",children:e.status}),Object(o.jsxs)(ut.a,{align:"right",children:[b?Object(o.jsx)(ot,{open:m,handleCloseError:p,error:b}):null,Object(o.jsx)(O.a,{"aria-label":"approve",color:"primary",onClick:function(){return g(e)},children:"\u05d0\u05d9\u05e9\u05d5\u05e8"}),Object(o.jsx)(O.a,{"aria-label":"edit",onClick:function(){return t=e,void console.log("The Values that you wish to edit ",t);var t},children:Object(o.jsx)(ve.a,{})}),Object(o.jsx)(O.a,{"aria-label":"delete",onClick:function(){return t=e,void console.log("The Values that you wish to edit ",t);var t},children:Object(o.jsx)(ht.a,{})})]})]},e._id)}))})]})})},xt=function(){return Object(o.jsx)(b.a,{children:Object(o.jsx)("div",{children:Object(o.jsxs)(m.d,{children:[Object(o.jsx)(it,{path:"/login",component:Ve,exact:!0}),Object(o.jsx)(it,{path:"/signUp",component:$e,exact:!0}),Object(o.jsx)(ct,{path:"/admin",component:Ot,exact:!0}),Object(o.jsx)(it,{path:"/",component:Se,exact:!0}),Object(o.jsx)(ct,{path:"/create",component:G}),Object(o.jsx)(ct,{path:"/edit/:id",component:Te}),Object(o.jsx)(m.b,{component:we}),"/"]})})})},gt=function(e,t){switch(t.type){case"POPULATES_USER":return console.log("usersReducer--- enter POPULATES_USER---state---action.user",e,t.user),t.user;default:return e}},vt=function(){return Object(o.jsx)("div",{className:"loader",children:Object(o.jsx)("img",{alt:"loading",src:"/loader.gif"})})},ft=function(e,t){switch(t.type){case"POPULATES_RECOMMENDATIONS":return console.log("recommendationsReducer POPULATES_RECOMMENDATIONS--- enter"),t.recommendations;case"ADD_RECOMMENDATIONS":return console.log("recommendationsReducer ADD_RECOMMENDATIONS--- enter action.recommendation",t.recommendation),[].concat(Object(K.a)(e),[Object(h.a)({},t.recommendation)]);case"UPDATE_RECOMMENDATIONS":return console.log("recommendationsReducer UPDATE_RECOMMENDATIONS--- enter"),e.map((function(e){return e._id===t.recommendation._id?(console.log("recommendationsReducer UPDATE_RECOMMENDATIONS--- match"),Object(h.a)({},t.recommendation)):e}));case"REMOVE_RECOMMENDATION":return e.filter((function(e){return e.itemRecommended!==t.itemRecommended}));default:return e}},yt=n(23),Ct=n(175),Nt=n.n(Ct),Et=n(398),St=n(177),Tt=n(409),wt=n(406),kt=n(176),At=Object(yt.b)({plugins:[].concat(Object(K.a)(Object(Et.a)().plugins),[Nt()()])}),Pt=Object(St.a)({typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},palette:{primary:{main:"#1976d2"}},direction:"rtl"},kt.heIL);function Rt(e){return Object(o.jsx)(Tt.b,{jss:At,children:e.children})}Pt=Object(wt.a)(Pt);var _t=n(396),Dt=!1,It=function(){var e=Object(s.useReducer)(gt,void 0),t=Object(i.a)(e,2),n=t[0],a=t[1];console.log("App--- user",n);var u=Object(s.useReducer)(ft,[]),d=Object(i.a)(u,2),j=d[0],b=d[1],m=Object(s.useState)(void 0),h=Object(i.a)(m,2),p=h[0],O=h[1],x=l.a.useState(!1),g=Object(i.a)(x,2),v=g[0],f=g[1];return Object(s.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"))||{};a({type:"POPULATES_USER",user:e}),Dt=!0,console.log("App---useEffect userGet",Dt)}),[]),Object(s.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("App---fetchData-enter"),e.next=3,L("/recommendation/all");case 3:t=e.sent,console.log("App--- response from sendGetReq",t),t.body.length>0&&(console.log("App---useEffect---fetchData response.length",t.body.length),b({type:"POPULATES_RECOMMENDATIONS",recommendations:t.body}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),!0===Dt?Object(o.jsx)(Rt,{children:Object(o.jsx)(R.Provider,{value:{recommendations:j,dispatch:b},children:Object(o.jsx)(_.Provider,{value:{user:n,dispatchUser:a},children:Object(o.jsx)(D.Provider,{value:{error:p,open:v,handleOpenError:function(e){console.log("handleOpenError (errorMsg)",e),O("".concat(e)),f(!0)},handleCloseError:function(){f(!1),O(null)}},children:Object(o.jsx)(_t.a,{theme:Pt,children:Object(o.jsx)(xt,{})})})})})}):Object(o.jsx)(vt,{})};d.a.render(Object(o.jsx)(It,{}),document.getElementById("root")),j()}},[[320,1,2]]]);
//# sourceMappingURL=main.e4926b80.chunk.js.map